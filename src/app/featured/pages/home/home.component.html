<section class="md:w-[75%] mx-auto py-5 overflow-hidden">
  <div class="container mx-auto px-4">
    <h1 class="text-3xl font-bold mt-5 text-black dark:text-white animate__animated animate__fadeInRight" d>All Products
    </h1>

    <p class="my-2 text-[#49739c] dark:text-gray-300 animate__animated animate__bounceIn">
      Explore our curated collection of high-quality products.
    </p>

    <div class="search__input my-5 relative animate__animated animate__zoomIn">
      <input [(ngModel)]="searchTerm" name="search" id="search" type="text" placeholder="Search for products..."
        class="w-full bg-[#E7EDF4] dark:bg-gray-700 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none" />
      <i
        class="pi pi-search absolute top-[50%] right-2 transform -translate-y-1/2 text-gray-500 dark:text-gray-300"></i>
    </div>

    <div class="Sorting mt-5">
      <label for="sort" class="text-gray-700 dark:text-gray-200">Sort by:</label>
      <select (change)="sort($event)" id="sort"
        class="bg-[#E7EDF4] dark:bg-gray-700 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none ml-2">
        <option value="original">original</option>
        <option value="name-A-to-Z">Name : A-Z</option>
        <option value="price-low-to-high">Price: Low to High</option>
        <option value="price-high-to-low">Price: High to Low</option>
      </select>
    </div>

    <div class="mt-7 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
      @let filteredProducts = products() | search : searchTerm;

      @if (iscaling) {
      @for (item of [1,2,3,4,5,6,7,8]; track $index) {
      <app-product-card-skeleton></app-product-card-skeleton>
      }
      } @else {
      @if (filteredProducts.length === 0) {
      <h3 class="text-2xl font-bold text-black dark:text-white text-center mt-4">
        No Product Found !!!
      </h3>
      } @else {
      @for (product of filteredProducts; track product.id ; let index = $index) {
      <app-product-card [product]="product" [index]="index"></app-product-card>
      }
      }
      }
    </div>
  </div>
</section>
